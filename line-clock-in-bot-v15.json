{
  "name": "å“¡å·¥æ‰“å¡ç³»çµ± V15 (çµ±ä¸€å›è¦†æ¶æ§‹)",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "LineWebhook",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -3536,
        0
      ],
      "id": "495a8eed-2f20-47a1-bf94-61a65d710ab5",
      "name": "LINE Webhook",
      "webhookId": "33bf5535-b41e-4285-ad67-41d644938ae9"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "userId",
              "name": "userId",
              "value": "={{ $json.body.events[0].source.userId }}",
              "type": "string"
            },
            {
              "id": "replyToken",
              "name": "replyToken",
              "value": "={{ $json.body.events[0].replyToken }}",
              "type": "string"
            },
            {
              "id": "eventType",
              "name": "eventType",
              "value": "={{ $json.body.events[0].type }}",
              "type": "string"
            },
            {
              "id": "msgType",
              "name": "msgType",
              "value": "={{ $json.body.events[0].message?.type || 'postback' }}",
              "type": "string"
            },
            {
              "id": "msgText",
              "name": "msgText",
              "value": "={{ $json.body.events[0].message?.text || '' }}",
              "type": "string"
            },
            {
              "id": "postbackData",
              "name": "postbackData",
              "value": "={{ $json.body.events[0].postback?.data || '' }}",
              "type": "string"
            },
            {
              "id": "msgId",
              "name": "msgId",
              "value": "={{ $json.body.events[0].message?.id || '' }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "71f1dbd1-2557-447d-894e-9e02e31ff2eb",
      "name": "æ“·å–è¨Šæ¯è³‡è¨Š",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1872,
        128
      ]
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "UserID",
              "lookupValue": "={{ $json.userId }}"
            }
          ]
        },
        "options": {}
      },
      "id": "3a5c529c-24f4-4211-9961-9db6a032de99",
      "name": "æŸ¥è©¢å“¡å·¥è¡¨",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -4416,
        -160
      ],
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "typeValidation": "strict",
            "version": 1
          },
          "conditions": [
            {
              "id": "found",
              "leftValue": "={{ $json.UserID }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "5ae398e2-eee7-497e-b2fa-7022f3ebc040",
      "name": "å“¡å·¥æ˜¯å¦å­˜åœ¨",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -1424,
        128
      ]
    },
    {
      "parameters": {
        "operation": "getProfile",
        "userId": "={{ $('æ“·å–è¨Šæ¯è³‡è¨Š').item.json.userId }}"
      },
      "id": "a02a7fa9-431c-4d3d-9de0-bdbd39d90c16",
      "name": "å–å¾—LINEå€‹è³‡",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        -1216,
        336
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $('æ“·å–è¨Šæ¯è³‡è¨Š').item.json.userId }}",
            "current_step": "WAIT_LANG",
            "æš±ç¨±": "={{ $json.profile ? $json.profile.displayName : ($json.displayName || '') }}",
            "last_active": "={{ new Date().getTime() }}",
            "Language": "zh-TW"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "UserID",
              "displayName": "UserID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æš±ç¨±",
              "displayName": "æš±ç¨±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "å…¥è·æ—¥",
              "displayName": "å…¥è·æ—¥",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "é›¢è·æ—¥",
              "displayName": "é›¢è·æ—¥",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "æ™‚è–ª",
              "displayName": "æ™‚è–ª",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å‚™è¨»",
              "displayName": "å‚™è¨»",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "è­‰ä»¶ç…§ç‰‡",
              "displayName": "è­‰ä»¶ç…§ç‰‡",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "current_step",
              "displayName": "current_step",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "temp_data",
              "displayName": "temp_data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Language",
              "displayName": "Language",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "78117f34-a65f-4ae6-81e7-af9730586257",
      "name": "å»ºç«‹æ–°å“¡å·¥",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -3760,
        48
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const d = $('æ“·å–è¨Šæ¯è³‡è¨Š').item.json;\nconst flexContents = {\n  type: 'bubble',\n  body: {\n    type: 'box',\n    layout: 'vertical',\n    contents: [\n      { type: 'text', text: 'ğŸ‘‹ æ­¡è¿åŠ å…¥ï¼/ ChÃ o má»«ng!', weight: 'bold', size: 'lg', align: 'center' },\n      { type: 'separator', margin: 'md' },\n      {\n        type: 'box',\n        layout: 'horizontal',\n        margin: 'lg',\n        spacing: 'sm',\n        contents: [\n          { type: 'button', style: 'primary', color: '#06C755', action: { type: 'postback', label: 'ğŸ‡¹ğŸ‡¼ ç¹é«”ä¸­æ–‡', data: 'action=lang&value=zh-TW' } },\n          { type: 'button', style: 'secondary', action: { type: 'postback', label: 'ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t', data: 'action=lang&value=vi-VN' } }\n        ]\n      }\n    ]\n  }\n};\nreturn {\n  json: {\n    replyToken: d.replyToken,\n    replyType: 'flex',\n    text: 'è«‹é¸æ“‡èªè¨€',\n    altText: 'è«‹é¸æ“‡èªè¨€',\n    flexContents: flexContents\n  }\n};"
      },
      "id": "72038af7-a435-478e-bfd6-40c7dd277528",
      "name": "å›è¦†èªè¨€é¸å–®",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -768,
        336
      ]
    },
    {
      "parameters": {
        "jsCode": "const emp = $('æŸ¥è©¢å“¡å·¥è¡¨').item.json;\nconst input = $('æ“·å–è¨Šæ¯è³‡è¨Š').item.json;\nconst now = new Date();\nconst lastActive = emp.last_active ? new Date(isNaN(Number(emp.last_active)) ? emp.last_active : Number(emp.last_active)) : new Date(0);\nconst TIMEOUT_MS = 10 * 60 * 1000;\nconst isTimeout = (now - lastActive) > TIMEOUT_MS && emp.current_step && emp.current_step !== 'IDLE';\nconst pbData = input.postbackData || '';\nconst pbParams = {};\npbData.split('&').forEach(p => { const [k, v] = p.split('='); if (k && v) pbParams[k] = decodeURIComponent(v); });\nconst MSG = {'zh-TW': {timeout: 'â° æ“ä½œé€¾æ™‚', cancel: 'âœ… å·²å–æ¶ˆ', selectStore: 'è«‹é¸æ“‡é–€å¸‚ ğŸ‘‡', storeList: 'è«‹é¸æ“‡é–€å¸‚ ğŸ‘‡', photoIn: 'ğŸ“¸ è«‹æ‹æ”ä¸Šç­ç…§', photoOut: 'ğŸ“¸ è«‹æ‹æ”ä¸‹ç­ç…§', photoId: 'ğŸ“¸ è«‹æ‹æ”è­‰ä»¶ç…§', askPhoto: 'ğŸ“¸ è«‹æ‹æ”è­‰ä»¶ç…§', wrongInput: 'â“ è«‹ä¾æŒ‡ç¤ºæ“ä½œ', regOk: 'âœ… è¨»å†ŠæˆåŠŸï¼', inOk: 'âœ… ä¸Šç­æˆåŠŸï¼', outOk: 'âœ… ä¸‹ç­æˆåŠŸï¼', help: 'ğŸ“‹ æŒ‡ä»¤ï¼šä¸Šç­/ä¸‹ç­/å–æ¶ˆ', noClockIn: 'âš ï¸ ä»Šæ—¥å°šæœªæ‰“ä¸Šç­å¡', askRevenue: 'ğŸ’° è«‹è¼¸å…¥ç•¶å‰æ¥­ç¸¾:', revenueOk: 'âœ… å·²è¨˜éŒ„æ¥­ç¸¾', welcome: 'æ­¡è¿åŠ å…¥ï¼', selectLang: 'è«‹é¸æ“‡èªè¨€', helper: 'âœ¨ æ‚¨æ˜¯ä»Šæ—¥å°å¹«æ‰‹ (å…æ¥­ç¸¾)', opener: 'ğŸ¯ æ‚¨æ˜¯é¦–ä½é–‹æ”¤', midshift: 'ğŸ•’ ä¸­é€”ä¸Šç­ï¼Œè«‹å…ˆè¼¸å…¥æ¥­ç¸¾'}, 'vi-VN': {timeout: 'â° Háº¿t giá»', cancel: 'âœ… ÄÃ£ há»§y', selectStore: 'Chá»n cá»­a hÃ ng ğŸ‘‡', storeList: 'Chá»n cá»­a hÃ ng ğŸ‘‡', photoIn: 'ğŸ“¸ Chá»¥p áº£nh Ä‘i lÃ m', photoOut: 'ğŸ“¸ Chá»¥p áº£nh tan ca', photoId: 'ğŸ“¸ Chá»¥p áº£nh ID', askPhoto: 'ğŸ“¸ Vui lÃ²ng chá»¥p áº£nh ID', wrongInput: 'â“ LÃ m theo hÆ°á»›ng dáº«n', regOk: 'âœ… ÄÄƒng kÃ½ xong!', inOk: 'âœ… Äi lÃ m OK!', outOk: 'âœ… Tan ca OK!', help: 'ğŸ“‹ Lá»‡nh: Báº¯t Ä‘áº§u/Káº¿t thÃºc/Há»§y', noClockIn: 'âš ï¸ ChÆ°a cháº¥m cÃ´ng', askRevenue: 'ğŸ’° Nháº­p doanh sá»‘:', revenueOk: 'âœ… ÄÃ£ ghi doanh sá»‘', welcome: 'Xin chÃ o!', selectLang: 'Vui lÃ²ng chá»n ngÃ´n ngá»¯', helper: 'âœ¨ Báº¡n lÃ  trá»£ lÃ½ (KhÃ´ng cáº§n KPI)', opener: 'ğŸ¯ Báº¡n lÃ  ngÆ°á»i má»Ÿ hÃ ng', midshift: 'ğŸ•’ Ca giá»¯a, vui lÃ²ng nháº­p doanh sá»‘'}};\nconst lang = emp.Language || 'zh-TW';\nconst t = MSG[lang] || MSG['zh-TW'];\nlet tempData = {};\ntry { tempData = emp.temp_data ? JSON.parse(emp.temp_data) : {}; } catch(e) {}\nreturn { json: { ...input, emp, lang, t, MSG_DICT: MSG, isTimeout, step: emp.current_step || 'IDLE', tempData, pbParams, combinedAction: pbParams.action || '', combinedValue: pbParams.value || pbParams.store || '' } };"
      },
      "id": "36c26f34-2ecf-42f0-ba32-077265a18c4c",
      "name": "è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1216,
        -80
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "current_step": "IDLE",
            "temp_data": ""
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "ff1e0e80-bab6-488e-b57e-5b0fd1352ec0",
      "name": "é‡ç½®(é€¾æ™‚)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -768,
        -176
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "1f0a38a4-ff6b-4d0b-ba1f-e3d2f96ab57b",
      "name": "å›è¦†é€¾æ™‚",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        -544,
        -176
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.msgText }}",
                    "rightValue": "å–æ¶ˆ",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "03952d1c-e9d2-4719-bafc-4b470e9f0082"
                  },
                  {
                    "leftValue": "={{ $json.combinedAction }}",
                    "rightValue": "cancel",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "5cc708ca-8a99-424e-b429-fc6e5bf41543"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "å–æ¶ˆ"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.step }}",
                    "rightValue": "IDLE",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "70b406cf-5b11-48f6-809a-2fea3cb9d703"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "IDLE"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.step }}",
                    "rightValue": "WAIT_LANG",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "4b23b7d4-b839-4a64-910d-d549868294d3"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "WAIT_LANG"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.step }}",
                    "rightValue": "WAIT_STORE_IN",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "c19d5337-f1cf-4f67-8a34-5e9bf8294ba6"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "WAIT_STORE_IN"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.step }}",
                    "rightValue": "WAIT_STORE_OUT",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "6946e0b7-8181-407f-8ed4-af3c67170987"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "WAIT_STORE_OUT"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.step }}",
                    "rightValue": "WAIT_REVENUE",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "f3f547ba-bfb3-44fb-966b-8452bbcc37f0"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "WAIT_REVENUE"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.step }}",
                    "rightValue": "WAIT_PHOTO_REG",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "8c77d41b-4895-4dc9-b5d1-50aa9aa81a87"
                  },
                  {
                    "leftValue": "={{ $json.step }}",
                    "rightValue": "WAIT_PHOTO_IN",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "c44384d5-0f25-45a7-ac7c-04fdddf1cad1"
                  },
                  {
                    "leftValue": "={{ $json.step }}",
                    "rightValue": "WAIT_PHOTO_OUT",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "a2ca53a9-d5c7-41a4-83e3-160fa137a4ab"
                  }
                ],
                "combinator": "or"
              },
              "renameOutput": true,
              "outputKey": "WAIT_PHOTO"
            }
          ]
        },
        "options": {
          "fallbackOutput": "extra"
        }
      },
      "id": "ffad94c6-3f90-4994-9693-7a74c786f3f4",
      "name": "ç‹€æ…‹è·¯ç”±",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.1,
      "position": [
        -768,
        32
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "current_step": "IDLE",
            "temp_data": ""
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "6e9f3cbb-f674-4b10-9737-31caf339914f",
      "name": "é‡ç½®(å–æ¶ˆ)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -544,
        -96
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('ç‹€æ…‹è·¯ç”±').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "fb9fb879-c695-4b0e-a533-3997d126b4a9",
      "name": "å›è¦†å–æ¶ˆ",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        -336,
        -96
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "combinator": "or"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.msgText }}",
                    "rightValue": "ä¸Šç­",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  },
                  {
                    "leftValue": "={{ $json.msgText }}",
                    "rightValue": "Báº¯t Ä‘áº§u",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "ä¸Šç­"
            },
            {
              "conditions": {
                "options": {
                  "combinator": "or"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.msgText }}",
                    "rightValue": "ä¸‹ç­",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  },
                  {
                    "leftValue": "={{ $json.msgText }}",
                    "rightValue": "Káº¿t thÃºc",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "ä¸‹ç­"
            }
          ]
        },
        "options": {
          "fallbackOutput": "extra"
        }
      },
      "id": "d813dd37-fdf8-4abc-9b48-f3cc080a9a0d",
      "name": "æŒ‡ä»¤åˆ¤æ–·",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.1,
      "position": [
        -544,
        32
      ]
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "22f208cb-c37f-4bc6-9182-5b336f2381cd",
      "name": "å›è¦†ä½¿ç”¨èªªæ˜",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        -336,
        128
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "current_step": "WAIT_STORE_IN",
            "temp_data": "ä¸Šç­",
            "last_active": "={{ new Date().getTime() }}"
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "48c0f627-5552-4a7b-9b26-bbad22dfc00a",
      "name": "è¨­å®šç­‰é¸åº—(ä¸Š)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -336,
        -16
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text",
              "quickReply": {
                "items": [
                  {},
                  {},
                  {},
                  {}
                ]
              }
            }
          ]
        }
      },
      "id": "71dc694a-b058-493f-af4f-357bb46120c7",
      "name": "å›è¦†é¸åº—(ä¸Š)",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        -112,
        -16
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥å·¥æ™‚ç´€éŒ„",
          "mode": "name"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "å“¡å·¥å§“å",
              "lookupValue": "={{ $json.emp.æš±ç¨± }}"
            },
            {
              "lookupColumn": "æ—¥æœŸ",
              "lookupValue": "={{ new Date().getFullYear() + '/' + String(new Date().getMonth()+1).padStart(2,'0') + '/' + String(new Date().getDate()).padStart(2,'0') }}"
            }
          ]
        },
        "options": {}
      },
      "id": "fa3ef80a-7063-48b7-9500-10e73acabfce",
      "name": "æŸ¥è©¢ä»Šæ—¥ä¸Šç­ç´€éŒ„",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -336,
        64
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "typeValidation": "strict",
            "version": 1
          },
          "conditions": [
            {
              "id": "has-clockin",
              "leftValue": "={{ $json.ä¸Šç­æ™‚é–“ }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "dcc576bc-5e93-4c0d-84f2-b08b16fc8fa7",
      "name": "ä»Šæ—¥å·²æ‰“ä¸Šç­?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -112,
        64
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.userId }}",
            "current_step": "WAIT_STORE_OUT",
            "temp_data": "ä¸‹ç­",
            "last_active": "={{ new Date().getTime() }}"
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "130d3f5c-2ff8-461d-87be-80f9ab0bac13",
      "name": "è¨­å®šç­‰é¸åº—(ä¸‹)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        112,
        48
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text",
              "quickReply": {
                "items": [
                  {},
                  {},
                  {},
                  {}
                ]
              }
            }
          ]
        }
      },
      "id": "ca5619c7-10cb-4b25-81ae-960928caa19a",
      "name": "å›è¦†é¸åº—(ä¸‹)",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        336,
        48
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "5320cc77-b57d-49e9-aaaf-b600965a4355",
      "name": "å›è¦†å°šæœªæ‰“ä¸Šç­å¡",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        112,
        144
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const d = $input.item.json;\nconst store = d.combinedValue || d.pbParams.store || d.msgText;\nconst action = 'clockin';\nconst newTemp = JSON.stringify({ action, store });\nreturn { json: { ...d, store, action, newTemp } };"
      },
      "id": "0e743cda-34a3-4d5b-aaf9-ba41a4d027dd",
      "name": "è§£æåº—å(ä¸Šç­)",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -544,
        224
      ]
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "æ¯æ—¥æ¥­ç¸¾ç´€éŒ„",
          "mode": "name"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "åº—å",
              "lookupValue": "={{ $json.store }}"
            }
          ]
        },
        "options": {}
      },
      "id": "ce615edc-9027-4a96-8440-7f4ed3842022",
      "name": "æŸ¥è©¢æ¯æ—¥æ¥­ç¸¾ç´€éŒ„",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -336,
        224
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const prev = $('è§£æåº—å(ä¸Šç­)').item.json;\nconst dailyRevRows = $input.all();\nconst store = prev.store;\nconst now = new Date();\nconst todayStr = `${now.getMonth()+1}/${String(now.getDate()).padStart(2,'0')}`;\nconst todayRecords = dailyRevRows.filter(r => {\n  const d = r.json['æ—¥æœŸ'] || '';\n  return d.includes(todayStr) || d === `${now.getMonth()+1}/${now.getDate()}`;\n});\nlet clockInType = 'opener';\nlet openTime = null;\nif (todayRecords.length > 0 && todayRecords[0].json['é–‹æ”¤æ™‚é–“']) {\n  const openTimeStr = todayRecords[0].json['é–‹æ”¤æ™‚é–“'];\n  const match = openTimeStr.match(/(\\d{1,2}):(\\d{2})/);\n  if (match) {\n    let hour = parseInt(match[1]);\n    const min = parseInt(match[2]);\n    if (openTimeStr.includes('ä¸‹åˆ') && hour < 12) hour += 12;\n    openTime = new Date(now);\n    openTime.setHours(hour, min, 0, 0);\n    const diffHr = (now - openTime) / (1000 * 60 * 60);\n    clockInType = diffHr < 1 ? 'helper' : 'midshift';\n  }\n}\nlet tempObj = {};\ntry { tempObj = JSON.parse(prev.newTemp); } catch(e) { tempObj = { raw: prev.newTemp }; }\nconst newTemp = JSON.stringify({ ...tempObj, clockInType, clockInTime: now.toISOString() });\nreturn { json: { ...prev, clockInType, hasOpenRecord: todayRecords.length > 0, newTemp } };"
      },
      "id": "7d75b407-5990-4543-b527-ec1ac83753e0",
      "name": "åˆ¤æ–·é–‹æ”¤ç‹€æ…‹",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -112,
        224
      ]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "combinator": "and"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.clockInType }}",
                    "rightValue": "opener",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "é¦–ä½é–‹æ”¤"
            },
            {
              "conditions": {
                "options": {
                  "combinator": "and"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.clockInType }}",
                    "rightValue": "helper",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "å°å¹«æ‰‹"
            },
            {
              "conditions": {
                "options": {
                  "combinator": "and"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.clockInType }}",
                    "rightValue": "midshift",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ]
              },
              "renameOutput": true,
              "outputKey": "ä¸­é€”ä¸Šç­"
            }
          ]
        },
        "options": {}
      },
      "id": "0c4f1819-9f5e-46a6-a6df-9c5034b686da",
      "name": "é–‹æ”¤é¡å‹è·¯ç”±",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.1,
      "position": [
        112,
        224
      ]
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "æ¯æ—¥æ¥­ç¸¾ç´€éŒ„",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "æ—¥æœŸ": "={{ new Date().getMonth()+1 + '/' + String(new Date().getDate()).padStart(2,'0') }}",
            "åº—å": "={{ $json.store }}",
            "é–‹æ”¤æ™‚é–“": "={{ new Date().toLocaleString('zh-TW') }}",
            "ç´€éŒ„è€…": "={{ $json.emp.æš±ç¨± }}",
            "ç´€éŒ„æ™‚é–“": "={{ new Date().toLocaleString('zh-TW') }}"
          },
          "matchingColumns": [
            "æ—¥æœŸ"
          ],
          "schema": [
            {
              "id": "æ—¥æœŸ",
              "displayName": "æ—¥æœŸ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "åº—å",
              "displayName": "åº—å",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "é–‹æ”¤æ™‚é–“",
              "displayName": "é–‹æ”¤æ™‚é–“",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æ¥­ç¸¾ç´€éŒ„",
              "displayName": "æ¥­ç¸¾ç´€éŒ„",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "æœ€çµ‚çµç®—",
              "displayName": "æœ€çµ‚çµç®—",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å·®ç•°",
              "displayName": "å·®ç•°",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ç´€éŒ„è€…",
              "displayName": "ç´€éŒ„è€…",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ç´€éŒ„æ™‚é–“",
              "displayName": "ç´€éŒ„æ™‚é–“",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "å‚™è¨»",
              "displayName": "å‚™è¨»",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "7cd09d98-947b-4286-a2ba-fee03a5362f2",
      "name": "æ–°å¢é–‹æ”¤ç´€éŒ„",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        336,
        176
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $('åˆ¤æ–·é–‹æ”¤ç‹€æ…‹').item.json.userId }}",
            "current_step": "WAIT_PHOTO_IN",
            "temp_data": "={{ $json.newTemp }}",
            "row_number": 0
          },
          "matchingColumns": [
            "UserID"
          ],
          "schema": [
            {
              "id": "UserID",
              "displayName": "UserID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æš±ç¨±",
              "displayName": "æš±ç¨±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å…¥è·æ—¥",
              "displayName": "å…¥è·æ—¥",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "é›¢è·æ—¥",
              "displayName": "é›¢è·æ—¥",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "æ™‚è–ª",
              "displayName": "æ™‚è–ª",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å‚™è¨»",
              "displayName": "å‚™è¨»",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "è­‰ä»¶ç…§ç‰‡",
              "displayName": "è­‰ä»¶ç…§ç‰‡",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "current_step",
              "displayName": "current_step",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "temp_data",
              "displayName": "temp_data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Language",
              "displayName": "Language",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "cda99971-0e07-47ce-b2f3-ccc7c50f798f",
      "name": "è¨­å®šç­‰ç…§ç‰‡(ä¸Š)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        928,
        64
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "text": "={{ $('é–‹æ”¤é¡å‹è·¯ç”±').item.json.t.photoIn }} ({{ $json.newTemp }})"
            }
          ]
        }
      },
      "id": "10b9a8e2-63e2-485d-916a-4abe285c0cfc",
      "name": "å›è¦†æ‹ç…§(ä¸Š)",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        1120,
        288
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "current_step": "WAIT_REVENUE",
            "temp_data": "={{ $json.newTemp }}",
            "last_active": "={{ new Date().getTime() }}"
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "eb2c5c05-9d9f-493d-9df0-17f2509b0e90",
      "name": "è¨­å®šç­‰æ¥­ç¸¾(ä¸­é€”)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        336,
        288
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "98462e28-98bb-4dcb-8832-fbf4cc428095",
      "name": "å›è¦†è©¢å•æ¥­ç¸¾(ä¸­é€”)",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        560,
        288
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const d = $input.item.json;\nconst store = d.combinedValue || d.pbParams.store || d.msgText;\nconst action = 'clockout';\nconst newTemp = JSON.stringify({ action, store });\nreturn { json: { ...d, store, action, newTemp } };"
      },
      "id": "2850dc81-52e5-4356-bdfd-f626ace75bd8",
      "name": "è§£æåº—å(ä¸‹ç­)",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -544,
        352
      ]
    },
    {
      "parameters": {
        "jsCode": "const d = $input.item.json;\nlet tempData = d.tempData || {};\nif (typeof tempData === 'string') { try { tempData = JSON.parse(tempData); } catch(e) { tempData = {}; } }\nconst clockInType = tempData.clockInType || 'opener';\nlet needRevenue = clockInType !== 'helper';\nconst newTemp = JSON.stringify({ ...tempData, action: 'out', store: d.store });\nreturn { json: { ...d, clockInType, needRevenue, newTemp } };"
      },
      "id": "dc0fa52e-c073-4c06-8c91-76fef394e57f",
      "name": "åˆ¤æ–·æ˜¯å¦éœ€æ¥­ç¸¾(ä¸‹)",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -336,
        352
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "typeValidation": "strict",
            "version": 1
          },
          "conditions": [
            {
              "id": "need-rev",
              "leftValue": "={{ $json.needRevenue }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "76d289a2-9320-4a0a-8bf9-731432db94c6",
      "name": "éœ€æ¥­ç¸¾?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -112,
        352
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "current_step": "WAIT_REVENUE",
            "temp_data": "={{ $json.newTemp }}",
            "last_active": "={{ new Date().getTime() }}"
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "9fed8385-d1f2-490f-88fb-357cfe1695ae",
      "name": "è¨­å®šç­‰æ¥­ç¸¾(ä¸‹)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        112,
        336
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "96028c56-3d93-4f75-a81c-d95a774798de",
      "name": "å›è¦†è©¢å•æ¥­ç¸¾(ä¸‹)",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        336,
        336
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "current_step": "WAIT_PHOTO_OUT",
            "temp_data": "={{ $json.newTemp }}",
            "last_active": "={{ new Date().getTime() }}"
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "555d044f-e82e-4e4c-9302-aa91c1baf724",
      "name": "è¨­å®šç­‰ç…§ç‰‡(ä¸‹)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        112,
        384
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "af4600b8-e592-4170-b302-c12ca05dfaf5",
      "name": "å›è¦†æ‹ç…§(ä¸‹)",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        336,
        384
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const d = $input.item.json;\nconst input = d.msgText;\nlet amount = 0;\ntry { amount = eval(input.replace(/[^0-9+\\-*/().]/g, '')) || 0; } catch(e) { amount = parseFloat(input) || 0; }\nlet tempData = d.tempData || {};\nif (typeof tempData === 'string') { try { tempData = JSON.parse(tempData); } catch(e) { tempData = {}; } }\nconst newTemp = JSON.stringify({ ...tempData, revenueAmount: amount });\nreturn { json: { ...d, revenueAmount: amount, revenueFormula: input, newTemp } };"
      },
      "id": "44115128-752f-423b-bd5c-e0bd95bc2599",
      "name": "è§£ææ¥­ç¸¾é‡‘é¡",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -544,
        432
      ]
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "æ¯æ—¥æ¥­ç¸¾ç´€éŒ„",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "æ—¥æœŸ": "={{ new Date().getMonth()+1 + '/' + String(new Date().getDate()).padStart(2,'0') }}",
            "åº—å": "={{ $json.tempData.store }}",
            "æ¥­ç¸¾ç´€éŒ„": "={{ $json.revenueFormula }}",
            "ç´€éŒ„è€…": "={{ $json.emp.æš±ç¨± }}",
            "ç´€éŒ„æ™‚é–“": "={{ new Date().toLocaleString('zh-TW') }}"
          }
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "2ebe5328-dceb-4bec-ad91-3e3813dda9c9",
      "name": "å¯«å…¥æ¥­ç¸¾ç´€éŒ„",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -336,
        432
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const d = $('è§£ææ¥­ç¸¾é‡‘é¡').item.json;\nconst action = d.tempData.action;\nconst nextStep = action === 'in' ? 'WAIT_PHOTO_IN' : 'WAIT_PHOTO_OUT';\nconst photoMsg = action === 'in' ? d.t.photoIn : d.t.photoOut;\nreturn { json: { ...d, nextStep, photoMsg } };"
      },
      "id": "2f49164d-31d5-4594-a8d5-85b85e01f03b",
      "name": "æ±ºå®šä¸‹ä¸€æ­¥",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -112,
        432
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "current_step": "={{ $json.nextStep }}",
            "temp_data": "={{ $json.newTemp }}",
            "last_active": "={{ new Date().getTime() }}"
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "e13dcf35-a012-4586-8b73-dbbd02790bc6",
      "name": "è¨­å®šç­‰ç…§ç‰‡(æ¥­ç¸¾å¾Œ)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        112,
        432
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "60e045f3-1166-4753-8685-cbf3845bdaa7",
      "name": "å›è¦†æ¥­ç¸¾ç¢ºèª",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        336,
        432
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const d = $input.item.json;\nlet langCode = d.combinedAction === 'lang' ? d.combinedValue : (d.msgText.startsWith('LANG:') ? d.msgText.replace('LANG:', '') : 'zh-TW');\nreturn { json: { ...d, selectedLang: langCode } };"
      },
      "id": "1fb60830-7f58-4944-b35a-ba9ca765db64",
      "name": "è§£æèªè¨€é¸æ“‡",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -544,
        528
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "Language": "={{ $json.selectedLang }}",
            "current_step": "WAIT_PHOTO_REG",
            "last_active": "={{ new Date().getTime() }}"
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "559c495c-cf4e-41f4-8893-d40b21dc467b",
      "name": "å„²å­˜èªè¨€è¨­å®š",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        -304,
        560
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "text": "={{ $('ç‹€æ…‹è·¯ç”±').item.json.MSG_DICT[$json.selectedLang || 'zh-TW'].photoId }}"
            }
          ]
        }
      },
      "id": "bb7a42ad-3f90-4bc6-be92-0dea2eb44bab",
      "name": "å›è¦†æ‹è­‰ä»¶ç…§",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        -96,
        624
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "replyToken": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.replyToken }}",
        "messages": {
          "values": [
            {
              "type": "text"
            }
          ]
        }
      },
      "id": "7f102064-3c4a-4ba8-a08b-177ff9fd23c3",
      "name": "å›è¦†éŒ¯èª¤",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessaging",
      "typeVersion": 1,
      "position": [
        -336,
        688
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "messageId": "={{ $json.msgId }}",
        "additionalOptions": {}
      },
      "id": "b8be22a4-82c6-469a-8c97-6136dce54aa8",
      "name": "ä¸‹è¼‰LINEç…§ç‰‡",
      "type": "@aotoki/n8n-nodes-line-messaging.lineMessagingData",
      "typeVersion": 1,
      "position": [
        -48,
        896
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "typeValidation": "strict",
            "version": 1
          },
          "conditions": [
            {
              "id": "is-img",
              "leftValue": "={{ $json.msgType }}",
              "rightValue": "image",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "a7e2a100-a4e7-4bd9-962d-148a05331016",
      "name": "æ˜¯å¦ç‚ºç…§ç‰‡",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -544,
        624
      ]
    },
    {
      "parameters": {
        "jsCode": "const prev = $('æ˜¯å¦ç‚ºç…§ç‰‡').item.json;\nconst emp = prev.emp;\nconst step = prev.step;\nconst tempData = prev.tempData || {};\nconst now = new Date();\nconst dateStr = `${now.getFullYear()}/${String(now.getMonth()+1).padStart(2,'0')}/${String(now.getDate()).padStart(2,'0')}`;\nconst timeStr = `${dateStr} ${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;\nlet fileName = '', action = '';\nif (step === 'WAIT_PHOTO_REG') { fileName = `[è­‰ä»¶]${emp.æš±ç¨±}_${dateStr.replace(/\\//g,'-')}.jpg`; action = 'register'; }\nelse if (step === 'WAIT_PHOTO_IN') { fileName = `[${emp.æš±ç¨±}ä¸Šç­]${timeStr.replace(/[:\\/]/g,'-')}.jpg`; action = 'clockin'; }\nelse if (step === 'WAIT_PHOTO_OUT') { fileName = `[${emp.æš±ç¨±}ä¸‹ç­]${timeStr.replace(/[:\\/]/g,'-')}.jpg`; action = 'clockout'; }\nreturn { json: { ...prev, fileName, dateStr, timeStr, action, store: tempData.store, clockInType: tempData.clockInType } };"
      },
      "id": "42fe4492-1b13-46e3-be3e-a26747a49da8",
      "name": "ç”Ÿæˆæª”å",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -240,
        992
      ]
    },
    {
      "parameters": {
        "name": "={{ $('ç”Ÿæˆæª”å').item.json.fileName }}",
        "driveId": {
          "__rl": true,
          "value": "My Drive",
          "mode": "list"
        },
        "folderId": {
          "__rl": true,
          "value": "1k4rfsjHYYXO8He7MUbTZoNJivDJkcn2a",
          "mode": "id"
        },
        "options": {}
      },
      "id": "ea3e0c29-3063-42ff-bd24-0eb2e48d51ad",
      "name": "ä¸Šå‚³Drive",
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        144,
        864
      ],
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "gK1ryUmaSpVTnVaX",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const prev = $('ç”Ÿæˆæª”å').item.json;\nconst fileId = $input.item.json.id;\nconst fileLink = `https://drive.google.com/file/d/${fileId}/view`;\nconst action = prev.action;\nconst t = prev.t;\nlet successMsg = '';\nif (action === 'register') successMsg = t.regOk + ` ğŸ‘¤ ${prev.emp.æš±ç¨±}`;\nelse if (action === 'clockin') successMsg = t.inOk + `\\nğŸª ${prev.store}\\nâ° ${prev.timeStr}` + (prev.clockInType === 'opener' ? ('\\n' + t.opener) : prev.clockInType === 'helper' ? ('\\n' + t.helper) : '');\nelse if (action === 'clockout') successMsg = t.outOk + `\\nğŸª ${prev.store}\\nâ° ${prev.timeStr}`;\nreturn { json: { ...prev, fileId, fileLink, successMsg } };"
      },
      "id": "07d6b1fd-1ca7-4bc2-9bf3-9e8b8fccfc85",
      "name": "æº–å‚™çµæœè³‡æ–™",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        336,
        608
      ]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.action }}",
                    "rightValue": "register",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "1c48ceb8-ac3f-4e13-b5d8-be7ec87a5c1e"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "è¨»å†Š"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.action }}",
                    "rightValue": "clockin",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "10c6030f-9656-4c78-bb5d-40f0aa5feaa7"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "ä¸Šç­"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.action }}",
                    "rightValue": "clockout",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "a1edff10-3fa3-4977-9794-bac04d76ed03"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "ä¸‹ç­"
            }
          ]
        },
        "options": {}
      },
      "id": "a296aef1-182c-4155-a8b9-94f40067529b",
      "name": "å‹•ä½œè·¯ç”±",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.1,
      "position": [
        560,
        608
      ]
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "UserID": "={{ $json.userId }}",
            "è­‰ä»¶ç…§ç‰‡": "={{ $json.fileLink }}",
            "ç‹€æ…‹": "åœ¨è·",
            "current_step": "IDLE",
            "temp_data": ""
          },
          "matchingColumns": [
            "UserID"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "21a51998-d7e0-4205-838a-d090ef47937f",
      "name": "å®Œæˆè¨»å†Šå¯«å…¥",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        784,
        528
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥å·¥æ™‚ç´€éŒ„",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "æ—¥æœŸ": "={{ $json.dateStr }}",
            "å“¡å·¥å§“å": "={{ $json.emp.æš±ç¨± }}",
            "åº—å": "={{ $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json.tempData.store }}",
            "ä¸Šç­æ™‚é–“": "={{ $json.timeStr }}",
            "æ‰“å¡ç…§ç‰‡": "={{ '[ä¸Šç­]' + $json.fileLink }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "æ—¥æœŸ",
              "displayName": "æ—¥æœŸ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "å“¡å·¥å§“å",
              "displayName": "å“¡å·¥å§“å",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "åº—å",
              "displayName": "åº—å",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ä¸Šç­æ™‚é–“",
              "displayName": "ä¸Šç­æ™‚é–“",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ä¸‹ç­æ™‚é–“",
              "displayName": "ä¸‹ç­æ™‚é–“",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å·¥æ™‚",
              "displayName": "å·¥æ™‚",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "æ‰“å¡ç…§ç‰‡",
              "displayName": "æ‰“å¡ç…§ç‰‡",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æ¥­ç¸¾å›å ±",
              "displayName": "æ¥­ç¸¾å›å ±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "d3738ba5-19e0-40a8-a8f6-ac2768378991",
      "name": "æ–°å¢ä¸Šç­ç´€éŒ„",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        784,
        688
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥å·¥æ™‚ç´€éŒ„",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "å“¡å·¥å§“å": "={{ $json.emp.æš±ç¨± }}",
            "æ—¥æœŸ": "={{ $json.dateStr }}",
            "ä¸‹ç­æ™‚é–“": "={{ $json.timeStr }}",
            "æ‰“å¡ç…§ç‰‡": "={{ $json['æ‰“å¡ç…§ç‰‡'] ? $json['æ‰“å¡ç…§ç‰‡'] + '\\n[ä¸‹ç­]' + $json.fileLink : '[ä¸‹ç­]' + $json.fileLink }}"
          },
          "matchingColumns": [
            "å“¡å·¥å§“å",
            "æ—¥æœŸ"
          ]
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "03f9fc7c-3a32-4128-9d59-b848a78b2d44",
      "name": "æ›´æ–°ä¸‹ç­ç´€éŒ„",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        784,
        848
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "å“¡å·¥ç®¡ç†",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "current_step": "IDLE",
            "row_number": 0,
            "UserID": "={{ $('å‹•ä½œè·¯ç”±').item.json.emp.UserID }}"
          },
          "matchingColumns": [
            "UserID"
          ],
          "schema": [
            {
              "id": "UserID",
              "displayName": "UserID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "æš±ç¨±",
              "displayName": "æš±ç¨±",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å…¥è·æ—¥",
              "displayName": "å…¥è·æ—¥",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "é›¢è·æ—¥",
              "displayName": "é›¢è·æ—¥",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "æ™‚è–ª",
              "displayName": "æ™‚è–ª",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "å‚™è¨»",
              "displayName": "å‚™è¨»",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "è­‰ä»¶ç…§ç‰‡",
              "displayName": "è­‰ä»¶ç…§ç‰‡",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "current_step",
              "displayName": "current_step",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "temp_data",
              "displayName": "temp_data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Language",
              "displayName": "Language",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "cellFormat": "USER_ENTERED"
        }
      },
      "id": "5f16fafc-4970-4a21-9bca-0a223c2f01b3",
      "name": "é‡ç½®ç‹€æ…‹(å®Œæˆ)",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        992,
        608
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1ILgphAVTKI5KIpCJKrT5anlF4GQK8YoHf8JAtAnMN7o",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "Settings",
          "mode": "name"
        },
        "options": {}
      },
      "id": "69af2739-c8eb-41b9-8f2a-12ba5619315f",
      "name": "è®€å–åˆ†åº—æ¸…å–®",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.4,
      "position": [
        112,
        -16
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "p8ybn4LezMchfmzj",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const d = $('è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯').item.json;\nconst stores = $('è®€å–åˆ†åº—æ¸…å–®').all();\nconst items = stores.filter(s => s.json.åˆ†åº—æ¸…å–®).map(s => ({\n  type: 'action',\n  action: { type: 'message', label: 'ğŸª ' + s.json.åˆ†åº—æ¸…å–®, text: s.json.åˆ†åº—æ¸…å–® }\n}));\nitems.push({ type: 'action', action: { type: 'message', label: 'âŒ å–æ¶ˆ', text: 'å–æ¶ˆ' } });\nreturn {\n  json: {\n    replyToken: d.replyToken,\n    replyType: 'quickReply',\n    text: d.t.storeList,\n    quickReplyItems: items\n  }\n};"
      },
      "id": "78af3b3e-41ce-484e-810d-ca331a09943c",
      "name": "çµ„è£QuickReply",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        336,
        -16
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/reply",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "lineMessagingApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json }}",
        "options": {}
      },
      "id": "72c57d02-2da1-4dae-9f49-68ad45605604",
      "name": "HTTPç™¼é€é¸åº—(ä¸Š)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        560,
        -16
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/reply",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "lineMessagingApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ replyToken: $json.replyToken, messages: [{ type: 'text', text: $json.text, quickReply: { items: $json.quickReplyItems } }] }) }}",
        "options": {}
      },
      "id": "40357567-6f95-4ae1-8860-06dfc11e0d32",
      "name": "çµ±ä¸€QuickReplyå›è¦†",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1424,
        -80
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/reply",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "lineMessagingApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ replyToken: $json.replyToken, messages: [{ type: 'flex', altText: $json.altText || $json.text, contents: $json.flexContents }] }) }}",
        "options": {}
      },
      "id": "49b88222-74d6-42b1-8bda-00428dacd0e9",
      "name": "çµ±ä¸€Flexå›è¦†",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1424,
        128
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/reply",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "lineMessagingApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ replyToken: $json.replyToken, messages: [{ type: 'text', text: $json.text }] }) }}",
        "options": {}
      },
      "id": "c51962a9-f017-4208-bcd3-9aa772483a9b",
      "name": "çµ±ä¸€æ–‡å­—å›è¦†",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1424,
        336
      ],
      "credentials": {
        "lineMessagingApi": {
          "id": "UiiMHjlAZGMI80LW",
          "name": "æ‰“å¡æ©Ÿå™¨äºº"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const d = $('æº–å‚™çµæœè³‡æ–™').item.json;\nreturn {\n  json: {\n    replyToken: d.replyToken,\n    replyType: 'text',\n    text: d.successMsg\n  }\n};"
      },
      "id": "c95991bb-e3ec-4b1c-8913-40d50b8dfa28",
      "name": "æº–å‚™å›è¦†å…§å®¹(æˆåŠŸ)",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1200,
        608
      ]
    }
  ],
  "connections": {
    "LINE Webhook": {
      "main": [
        [
          {
            "node": "æ“·å–è¨Šæ¯è³‡è¨Š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ“·å–è¨Šæ¯è³‡è¨Š": {
      "main": [
        [
          {
            "node": "æŸ¥è©¢å“¡å·¥è¡¨",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŸ¥è©¢å“¡å·¥è¡¨": {
      "main": [
        [
          {
            "node": "å“¡å·¥æ˜¯å¦å­˜åœ¨",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å“¡å·¥æ˜¯å¦å­˜åœ¨": {
      "main": [
        [
          {
            "node": "è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "å–å¾—LINEå€‹è³‡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å–å¾—LINEå€‹è³‡": {
      "main": [
        [
          {
            "node": "å»ºç«‹æ–°å“¡å·¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å»ºç«‹æ–°å“¡å·¥": {
      "main": [
        [
          {
            "node": "å›è¦†èªè¨€é¸å–®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è®€å–ç‹€æ…‹èˆ‡ç¿»è­¯": {
      "main": [
        [
          {
            "node": "æ˜¯å¦é€¾æ™‚",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ˜¯å¦é€¾æ™‚": {
      "main": [
        [
          {
            "node": "é‡ç½®(é€¾æ™‚)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ç‹€æ…‹è·¯ç”±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é‡ç½®(é€¾æ™‚)": {
      "main": [
        [
          {
            "node": "å›è¦†é€¾æ™‚",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç‹€æ…‹è·¯ç”±": {
      "main": [
        [
          {
            "node": "é‡ç½®(å–æ¶ˆ)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æŒ‡ä»¤åˆ¤æ–·",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "è§£æèªè¨€é¸æ“‡",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "è§£æåº—å(ä¸Šç­)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "è§£æåº—å(ä¸‹ç­)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "è§£ææ¥­ç¸¾é‡‘é¡",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æ˜¯å¦ç‚ºç…§ç‰‡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é‡ç½®(å–æ¶ˆ)": {
      "main": [
        [
          {
            "node": "å›è¦†å–æ¶ˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŒ‡ä»¤åˆ¤æ–·": {
      "main": [
        [
          {
            "node": "è¨­å®šç­‰é¸åº—(ä¸Š)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æŸ¥è©¢ä»Šæ—¥ä¸Šç­ç´€éŒ„",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "å›è¦†ä½¿ç”¨èªªæ˜",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¨­å®šç­‰é¸åº—(ä¸Š)": {
      "main": [
        [
          {
            "node": "è®€å–åˆ†åº—æ¸…å–®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŸ¥è©¢ä»Šæ—¥ä¸Šç­ç´€éŒ„": {
      "main": [
        [
          {
            "node": "ä»Šæ—¥å·²æ‰“ä¸Šç­?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä»Šæ—¥å·²æ‰“ä¸Šç­?": {
      "main": [
        [
          {
            "node": "è¨­å®šç­‰é¸åº—(ä¸‹)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "å›è¦†å°šæœªæ‰“ä¸Šç­å¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¨­å®šç­‰é¸åº—(ä¸‹)": {
      "main": [
        [
          {
            "node": "è®€å–åˆ†åº—æ¸…å–®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§£æåº—å(ä¸Šç­)": {
      "main": [
        [
          {
            "node": "æŸ¥è©¢æ¯æ—¥æ¥­ç¸¾ç´€éŒ„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æŸ¥è©¢æ¯æ—¥æ¥­ç¸¾ç´€éŒ„": {
      "main": [
        [
          {
            "node": "åˆ¤æ–·é–‹æ”¤ç‹€æ…‹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ¤æ–·é–‹æ”¤ç‹€æ…‹": {
      "main": [
        [
          {
            "node": "é–‹æ”¤é¡å‹è·¯ç”±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é–‹æ”¤é¡å‹è·¯ç”±": {
      "main": [
        [
          {
            "node": "æ–°å¢é–‹æ”¤ç´€éŒ„",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "è¨­å®šç­‰ç…§ç‰‡(ä¸Š)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "è¨­å®šç­‰æ¥­ç¸¾(ä¸­é€”)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ–°å¢é–‹æ”¤ç´€éŒ„": {
      "main": [
        [
          {
            "node": "è¨­å®šç­‰ç…§ç‰‡(ä¸Š)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¨­å®šç­‰æ¥­ç¸¾(ä¸­é€”)": {
      "main": [
        [
          {
            "node": "å›è¦†è©¢å•æ¥­ç¸¾(ä¸­é€”)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§£æåº—å(ä¸‹ç­)": {
      "main": [
        [
          {
            "node": "åˆ¤æ–·æ˜¯å¦éœ€æ¥­ç¸¾(ä¸‹)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ¤æ–·æ˜¯å¦éœ€æ¥­ç¸¾(ä¸‹)": {
      "main": [
        [
          {
            "node": "éœ€æ¥­ç¸¾?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "éœ€æ¥­ç¸¾?": {
      "main": [
        [
          {
            "node": "è¨­å®šç­‰æ¥­ç¸¾(ä¸‹)",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "è¨­å®šç­‰ç…§ç‰‡(ä¸‹)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¨­å®šç­‰æ¥­ç¸¾(ä¸‹)": {
      "main": [
        [
          {
            "node": "å›è¦†è©¢å•æ¥­ç¸¾(ä¸‹)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¨­å®šç­‰ç…§ç‰‡(ä¸‹)": {
      "main": [
        [
          {
            "node": "å›è¦†æ‹ç…§(ä¸‹)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§£ææ¥­ç¸¾é‡‘é¡": {
      "main": [
        [
          {
            "node": "å¯«å…¥æ¥­ç¸¾ç´€éŒ„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å¯«å…¥æ¥­ç¸¾ç´€éŒ„": {
      "main": [
        [
          {
            "node": "æ±ºå®šä¸‹ä¸€æ­¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ±ºå®šä¸‹ä¸€æ­¥": {
      "main": [
        [
          {
            "node": "è¨­å®šç­‰ç…§ç‰‡(æ¥­ç¸¾å¾Œ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¨­å®šç­‰ç…§ç‰‡(æ¥­ç¸¾å¾Œ)": {
      "main": [
        [
          {
            "node": "å›è¦†æ¥­ç¸¾ç¢ºèª",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§£æèªè¨€é¸æ“‡": {
      "main": [
        [
          {
            "node": "å„²å­˜èªè¨€è¨­å®š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å„²å­˜èªè¨€è¨­å®š": {
      "main": [
        [
          {
            "node": "å›è¦†æ‹è­‰ä»¶ç…§",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ˜¯å¦ç‚ºç…§ç‰‡": {
      "main": [
        [
          {
            "node": "ä¸‹è¼‰LINEç…§ç‰‡",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "å›è¦†éŒ¯èª¤",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¸‹è¼‰LINEç…§ç‰‡": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆæª”å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆæª”å": {
      "main": [
        [
          {
            "node": "ä¸Šå‚³Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä¸Šå‚³Drive": {
      "main": [
        [
          {
            "node": "æº–å‚™çµæœè³‡æ–™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æº–å‚™çµæœè³‡æ–™": {
      "main": [
        [
          {
            "node": "å‹•ä½œè·¯ç”±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‹•ä½œè·¯ç”±": {
      "main": [
        [
          {
            "node": "å®Œæˆè¨»å†Šå¯«å…¥",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æ–°å¢ä¸Šç­ç´€éŒ„",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æ›´æ–°ä¸‹ç­ç´€éŒ„",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å®Œæˆè¨»å†Šå¯«å…¥": {
      "main": [
        [
          {
            "node": "é‡ç½®ç‹€æ…‹(å®Œæˆ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ–°å¢ä¸Šç­ç´€éŒ„": {
      "main": [
        [
          {
            "node": "é‡ç½®ç‹€æ…‹(å®Œæˆ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ›´æ–°ä¸‹ç­ç´€éŒ„": {
      "main": [
        [
          {
            "node": "é‡ç½®ç‹€æ…‹(å®Œæˆ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "é‡ç½®ç‹€æ…‹(å®Œæˆ)": {
      "main": [
        [
          {
            "node": "æº–å‚™å›è¦†å…§å®¹(æˆåŠŸ)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æº–å‚™å›è¦†å…§å®¹(æˆåŠŸ)": {
      "main": [
        [
          {
            "node": "çµ±ä¸€æ–‡å­—å›è¦†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è®€å–åˆ†åº—æ¸…å–®": {
      "main": [
        [
          {
            "node": "çµ„è£QuickReply",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "çµ„è£QuickReply": {
      "main": [
        [
          {
            "node": "çµ±ä¸€QuickReplyå›è¦†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å›è¦†èªè¨€é¸å–®": {
      "main": [
        [
          {
            "node": "çµ±ä¸€Flexå›è¦†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 1
}